{"version":3,"file":"js/8700.f34717e8.js","mappings":"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","sources":["webpack://aw-webui/./node_modules/lodash/_castFunction.js","webpack://aw-webui/./src/visualizations/TimelineInspect.vue","webpack://aw-webui/./src/visualizations/timeline.ts","webpack://aw-webui/./src/visualizations/TimelineInspect.vue?fa31","webpack://aw-webui/./src/visualizations/TimelineInspect.vue?7369","webpack://aw-webui/./node_modules/lodash/sumBy.js","webpack://aw-webui/./node_modules/lodash/forEach.js","webpack://aw-webui/./node_modules/lodash/_baseSum.js","webpack://aw-webui/./node_modules/lodash/each.js"],"sourcesContent":["var identity = require('./identity');\n\n/**\n * Casts `value` to `identity` if it's not a function.\n *\n * @private\n * @param {*} value The value to inspect.\n * @returns {Function} Returns cast function.\n */\nfunction castFunction(value) {\n  return typeof value == 'function' ? value : identity;\n}\n\nmodule.exports = castFunction;\n","var render = function render(){var _vm=this,_c=_vm._self._c;return _c('div')\n}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","/*\n * Creates a colored timeline where you can hover for more info.\n */\nimport * as d3 from 'd3';\nimport Color from 'color';\nimport _ from 'lodash';\nimport moment from 'moment';\nimport { getColorFromString } from '../util/color';\nimport { seconds_to_duration } from '../util/time';\nfunction show_info(container, elem_id) {\n    const title_event_box = container.querySelector('#' + elem_id);\n    const titleinfo = container.querySelector('.titleinfo-container');\n    titleinfo.innerHTML = title_event_box.innerHTML;\n    titleinfo.style.height = title_event_box.getAttribute('height') || '';\n}\nfunction create(container) {\n    // Clear element\n    container.innerHTML = '';\n    // svg for the colored timeline\n    d3.select(container)\n        .append('svg')\n        .attr('class', 'apptimeline')\n        .attr('viewBox', '0 0 100 10')\n        .attr('width', '100%');\n    // Hidden svg image that stores all titleinfo for each timeperiod\n    d3.select(container).append('div').attr('class', 'titleinfo-list').style('display', 'none');\n    // Container for titleinfo that has a fixed size and a overflow scroll\n    const titleinfo_container = document.createElement('div');\n    titleinfo_container.style.width = '100%';\n    titleinfo_container.style.height = '200px';\n    titleinfo_container.style.overflowY = 'scroll';\n    container.appendChild(titleinfo_container);\n    // Titleinfo box that changes content depending on what was timeperiod was last recently hovered on\n    d3.select(titleinfo_container)\n        .append('div')\n        .style('width', '100%')\n        .attr('class', 'titleinfo-container');\n}\nfunction set_status(container, text) {\n    const timeline_elem = container.querySelector('.apptimeline');\n    const titleinfo_list_elem = container.querySelector('.titleinfo-list');\n    const titleinfo_container_elem = container.querySelector('.titleinfo-container');\n    const timeline = d3.select(timeline_elem);\n    timeline_elem.innerHTML = '';\n    titleinfo_list_elem.innerHTML = '';\n    titleinfo_container_elem.innerHTML = '';\n    timeline\n        .append('text')\n        .attr('x', '0')\n        .attr('y', '3')\n        .text(text)\n        .attr('font-family', 'sans-serif')\n        .attr('font-size', '3')\n        .attr('fill', 'black');\n}\nfunction update(container, events, showAFK, chunkfunc, eventfunc) {\n    const timeline = d3.select(container.querySelector('.apptimeline')).html(null);\n    const titleinfo_list = d3.select(container.querySelector('.titleinfo-list')).html(null);\n    d3.select(container.querySelector('.titleinfo-container')).html(null);\n    if (events.length <= 0) {\n        set_status(container, 'No data');\n        return container;\n    }\n    const firstEvent = events[0];\n    const lastEvent = events[events.length - 1];\n    const timeStart = moment(firstEvent.timestamp);\n    const timeEnd = moment(lastEvent.timestamp).add(lastEvent.duration, 'seconds');\n    const totalDuration = _.sumBy(events, 'duration');\n    const secSinceStart = timeEnd.diff(timeStart, 'seconds', true);\n    // Iterate over each app timeperiod\n    let curr_x = 0;\n    _.each(events, function (e, i) {\n        // Timeline rect\n        let eventX, eventWidth;\n        if (showAFK) {\n            const eventBegin = moment(e.timestamp);\n            eventX = eventBegin.diff(timeStart, 'seconds', true) / secSinceStart;\n            eventX = eventX * 100 + '%';\n            eventWidth = (e.duration / secSinceStart) * 100;\n        }\n        else {\n            eventX = curr_x;\n            eventWidth = (e.duration / totalDuration) * 100;\n        }\n        const appcolor = getColorFromString(chunkfunc(e));\n        const hovercolor = Color(appcolor).darken(0.4).hex();\n        const eg = timeline.append('g').attr('id', 'timeline_event_' + i);\n        const rect = eg\n            .append('rect')\n            .attr('x', eventX)\n            .attr('y', 0)\n            .attr('width', eventWidth + '%')\n            .attr('height', 10)\n            .style('fill', appcolor)\n            .on('mouseover', () => {\n            rect.style('fill', hovercolor);\n            show_info(container, 'titleinfo_event_' + i);\n        })\n            .on('mouseout', () => {\n            rect.style('fill', appcolor);\n        });\n        // Titleinfo box\n        const infobox = titleinfo_list\n            .append('div')\n            .attr('id', 'titleinfo_event_' + i)\n            .style('display', 'none');\n        // Appname and duration text\n        infobox\n            .append('h5')\n            .attr('x', '10px')\n            .attr('y', '20px')\n            .text(chunkfunc(e) + ' (' + seconds_to_duration(e.duration) + ')')\n            .attr('font-family', 'sans-serif')\n            .attr('font-size', '20px')\n            .attr('fill', 'black');\n        // Titleinfo\n        const infolist = infobox.append('table');\n        _.each(e.data.subevents, function (t) {\n            const inforow = infolist.append('tr');\n            // Clocktime\n            const clocktime = moment(t.timestamp).format('HH:mm:ss');\n            inforow.append('td').text(clocktime);\n            // Duration\n            const duration = seconds_to_duration(t.duration);\n            inforow.append('td').text(duration).style('padding-left', '1em').style('text-align', 'right');\n            // Title\n            inforow.append('td').text(eventfunc(t)).style('padding-left', '1em');\n        });\n        curr_x += eventWidth;\n    });\n    return container;\n}\nexport default {\n    create,\n    update,\n    set_status,\n};\n","import mod from \"-!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/@vue/cli-plugin-typescript/node_modules/babel-loader/lib/index.js!../../node_modules/ts-loader/index.js??clonedRuleSet-38.use[2]!../../node_modules/@vue/vue-loader-v15/lib/index.js??vue-loader-options!./TimelineInspect.vue?vue&type=script&lang=ts\"; export default mod; export * from \"-!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/@vue/cli-plugin-typescript/node_modules/babel-loader/lib/index.js!../../node_modules/ts-loader/index.js??clonedRuleSet-38.use[2]!../../node_modules/@vue/vue-loader-v15/lib/index.js??vue-loader-options!./TimelineInspect.vue?vue&type=script&lang=ts\"","import { render, staticRenderFns } from \"./TimelineInspect.vue?vue&type=template&id=b2209538&scoped=true&lang=pug\"\nimport script from \"./TimelineInspect.vue?vue&type=script&lang=ts\"\nexport * from \"./TimelineInspect.vue?vue&type=script&lang=ts\"\nimport style0 from \"./TimelineInspect.vue?vue&type=style&index=0&id=b2209538&prod&scoped=true&lang=scss\"\n\n\n/* normalize component */\nimport normalizer from \"!../../node_modules/@vue/vue-loader-v15/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"b2209538\",\n  null\n  \n)\n\nexport default component.exports","var baseIteratee = require('./_baseIteratee'),\n    baseSum = require('./_baseSum');\n\n/**\n * This method is like `_.sum` except that it accepts `iteratee` which is\n * invoked for each element in `array` to generate the value to be summed.\n * The iteratee is invoked with one argument: (value).\n *\n * @static\n * @memberOf _\n * @since 4.0.0\n * @category Math\n * @param {Array} array The array to iterate over.\n * @param {Function} [iteratee=_.identity] The iteratee invoked per element.\n * @returns {number} Returns the sum.\n * @example\n *\n * var objects = [{ 'n': 4 }, { 'n': 2 }, { 'n': 8 }, { 'n': 6 }];\n *\n * _.sumBy(objects, function(o) { return o.n; });\n * // => 20\n *\n * // The `_.property` iteratee shorthand.\n * _.sumBy(objects, 'n');\n * // => 20\n */\nfunction sumBy(array, iteratee) {\n  return (array && array.length)\n    ? baseSum(array, baseIteratee(iteratee, 2))\n    : 0;\n}\n\nmodule.exports = sumBy;\n","var arrayEach = require('./_arrayEach'),\n    baseEach = require('./_baseEach'),\n    castFunction = require('./_castFunction'),\n    isArray = require('./isArray');\n\n/**\n * Iterates over elements of `collection` and invokes `iteratee` for each element.\n * The iteratee is invoked with three arguments: (value, index|key, collection).\n * Iteratee functions may exit iteration early by explicitly returning `false`.\n *\n * **Note:** As with other \"Collections\" methods, objects with a \"length\"\n * property are iterated like arrays. To avoid this behavior use `_.forIn`\n * or `_.forOwn` for object iteration.\n *\n * @static\n * @memberOf _\n * @since 0.1.0\n * @alias each\n * @category Collection\n * @param {Array|Object} collection The collection to iterate over.\n * @param {Function} [iteratee=_.identity] The function invoked per iteration.\n * @returns {Array|Object} Returns `collection`.\n * @see _.forEachRight\n * @example\n *\n * _.forEach([1, 2], function(value) {\n *   console.log(value);\n * });\n * // => Logs `1` then `2`.\n *\n * _.forEach({ 'a': 1, 'b': 2 }, function(value, key) {\n *   console.log(key);\n * });\n * // => Logs 'a' then 'b' (iteration order is not guaranteed).\n */\nfunction forEach(collection, iteratee) {\n  var func = isArray(collection) ? arrayEach : baseEach;\n  return func(collection, castFunction(iteratee));\n}\n\nmodule.exports = forEach;\n","/**\n * The base implementation of `_.sum` and `_.sumBy` without support for\n * iteratee shorthands.\n *\n * @private\n * @param {Array} array The array to iterate over.\n * @param {Function} iteratee The function invoked per iteration.\n * @returns {number} Returns the sum.\n */\nfunction baseSum(array, iteratee) {\n  var result,\n      index = -1,\n      length = array.length;\n\n  while (++index < length) {\n    var current = iteratee(array[index]);\n    if (current !== undefined) {\n      result = result === undefined ? current : (result + current);\n    }\n  }\n  return result;\n}\n\nmodule.exports = baseSum;\n","module.exports = require('./forEach');\n"],"names":["identity","castFunction","value","module","exports","render","_vm","this","_c","_self","staticRenderFns","show_info","container","elem_id","title_event_box","querySelector","titleinfo","innerHTML","style","height","getAttribute","create","d3","append","attr","titleinfo_container","document","createElement","width","overflowY","appendChild","set_status","text","timeline_elem","titleinfo_list_elem","titleinfo_container_elem","timeline","update","events","showAFK","chunkfunc","eventfunc","html","titleinfo_list","length","firstEvent","lastEvent","timeStart","moment","timestamp","timeEnd","add","duration","totalDuration","_sumBy","secSinceStart","diff","curr_x","_each","e","i","eventX","eventWidth","eventBegin","appcolor","getColorFromString","hovercolor","Color","darken","hex","eg","rect","on","infobox","seconds_to_duration","infolist","data","subevents","t","inforow","clocktime","format","name","props","chunks","type","Object","show_afk","Boolean","Function","watch","mounted","$el","methods","component","baseIteratee","baseSum","sumBy","array","iteratee","arrayEach","baseEach","isArray","forEach","collection","func","result","index","current","undefined"],"sourceRoot":""}