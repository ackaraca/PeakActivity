(self["webpackChunkaw_webui"]=self["webpackChunkaw_webui"]||[]).push([[8700],{24066:(t,e,n)=>{var i=n(83488);function a(t){return"function"==typeof t?t:i}t.exports=a},28700:(t,e,n)=>{"use strict";n.r(e),n.d(e,{default:()=>H});var i=function(){var t=this,e=t._self._c;return e("div")},a=[],r=n(76135),s=n.n(r),l=n(31126),o=n.n(l),u=n(21243),c=n(2520),d=n.n(c),p=n(95093),f=n.n(p),h=n(51278),v=n(71056);function y(t,e){var n=t.querySelector("#"+e),i=t.querySelector(".titleinfo-container");i.innerHTML=n.innerHTML,i.style.height=n.getAttribute("height")||""}function m(t){t.innerHTML="",u.select(t).append("svg").attr("class","apptimeline").attr("viewBox","0 0 100 10").attr("width","100%"),u.select(t).append("div").attr("class","titleinfo-list").style("display","none");var e=document.createElement("div");e.style.width="100%",e.style.height="200px",e.style.overflowY="scroll",t.appendChild(e),u.select(e).append("div").style("width","100%").attr("class","titleinfo-container")}function x(t,e){var n=t.querySelector(".apptimeline"),i=t.querySelector(".titleinfo-list"),a=t.querySelector(".titleinfo-container"),r=u.select(n);n.innerHTML="",i.innerHTML="",a.innerHTML="",r.append("text").attr("x","0").attr("y","3").text(e).attr("font-family","sans-serif").attr("font-size","3").attr("fill","black")}function w(t,e,n,i,a){var r=u.select(t.querySelector(".apptimeline")).html(null),l=u.select(t.querySelector(".titleinfo-list")).html(null);if(u.select(t.querySelector(".titleinfo-container")).html(null),e.length<=0)return x(t,"No data"),t;var c=e[0],p=e[e.length-1],m=f()(c.timestamp),w=f()(p.timestamp).add(p.duration,"seconds"),_=o()(e,"duration"),g=w.diff(m,"seconds",!0),k=0;return s()(e,(function(e,o){var u,c;if(n){var p=f()(e.timestamp);u=p.diff(m,"seconds",!0)/g,u=100*u+"%",c=e.duration/g*100}else u=k,c=e.duration/_*100;var x=(0,h.nw)(i(e)),w=d()(x).darken(.4).hex(),b=r.append("g").attr("id","timeline_event_"+o),q=b.append("rect").attr("x",u).attr("y",0).attr("width",c+"%").attr("height",10).style("fill",x).on("mouseover",(function(){q.style("fill",w),y(t,"titleinfo_event_"+o)})).on("mouseout",(function(){q.style("fill",x)})),H=l.append("div").attr("id","titleinfo_event_"+o).style("display","none");H.append("h5").attr("x","10px").attr("y","20px").text(i(e)+" ("+(0,v.seconds_to_duration)(e.duration)+")").attr("font-family","sans-serif").attr("font-size","20px").attr("fill","black");var S=H.append("table");s()(e.data.subevents,(function(t){var e=S.append("tr"),n=f()(t.timestamp).format("HH:mm:ss");e.append("td").text(n);var i=(0,v.seconds_to_duration)(t.duration);e.append("td").text(i).style("padding-left","1em").style("text-align","right"),e.append("td").text(a(t)).style("padding-left","1em")})),k+=c})),t}const _={create:m,update:w,set_status:x},g={name:"aw-timeline",props:{chunks:{type:Object},show_afk:{type:Boolean},chunkfunc:{type:Function},eventfunc:{type:Function}},watch:{chunks:function(){this.update()},show_afk:function(){this.update()}},mounted:function(){_.create(this.$el),this.update()},methods:{update:function(){null===this.chunks?_.set_status(this.$el,"Loading..."):_.update(this.$el,this.chunks,this.show_afk,this.chunkfunc,this.eventfunc)}}},k=g;var b=n(81656),q=(0,b.A)(k,i,a,!1,null,"b2209538",null);const H=q.exports},31126:(t,e,n)=>{var i=n(15389),a=n(40102);function r(t,e){return t&&t.length?a(t,i(e,2)):0}t.exports=r},39754:(t,e,n)=>{var i=n(83729),a=n(80909),r=n(24066),s=n(56449);function l(t,e){var n=s(t)?i:a;return n(t,r(e))}t.exports=l},40102:t=>{function e(t,e){var n,i=-1,a=t.length;while(++i<a){var r=e(t[i]);void 0!==r&&(n=void 0===n?r:n+r)}return n}t.exports=e},76135:(t,e,n)=>{t.exports=n(39754)}}]);
//# sourceMappingURL=8700.f34717e8.js.map