(self["webpackChunkaw_webui"]=self["webpackChunkaw_webui"]||[]).push([[2188],{7309:(e,t,n)=>{var r=n(62006),o=n(24713),s=r(o);e.exports=s},17400:(e,t,n)=>{var r=n(99374),o=1/0,s=17976931348623157e292;function a(e){if(!e)return 0===e?e:0;if(e=r(e),e===o||e===-o){var t=e<0?-1:1;return t*s}return e===e?e:0}e.exports=a},24066:(e,t,n)=>{var r=n(83488);function o(e){return"function"==typeof e?e:r}e.exports=o},24713:(e,t,n)=>{var r=n(2523),o=n(15389),s=n(61489),a=Math.max;function i(e,t,n){var i=null==e?0:e.length;if(!i)return-1;var _=null==n?0:s(n);return _<0&&(_=a(i+_,0)),r(e,o(t,3),_)}e.exports=i},30514:(e,t,n)=>{var r=n(34932);function o(e,t){return r(t,(function(t){return e[t]}))}e.exports=o},31800:e=>{var t=/\s/;function n(e){var n=e.length;while(n--&&t.test(e.charAt(n)));return n}e.exports=n},35880:(e,t,n)=>{var r=n(30514),o=n(95950);function s(e){return null==e?[]:r(e,o(e))}e.exports=s},39754:(e,t,n)=>{var r=n(83729),o=n(80909),s=n(24066),a=n(56449);function i(e,t){var n=a(e)?r:o;return n(e,s(t))}e.exports=i},54128:(e,t,n)=>{var r=n(31800),o=/^\s+/;function s(e){return e?e.slice(0,r(e)+1).replace(o,""):e}e.exports=s},61489:(e,t,n)=>{var r=n(17400);function o(e){var t=r(e),n=t%1;return t===t?n?t-n:t:0}e.exports=o},62006:(e,t,n)=>{var r=n(15389),o=n(64894),s=n(95950);function a(e){return function(t,n,a){var i=Object(t);if(!o(t)){var _=r(n,3);t=s(t),n=function(e){return _(i[e],e,i)}}var c=e(t,n,a);return c>-1?i[_?t[c]:c]:void 0}}e.exports=a},76135:(e,t,n)=>{e.exports=n(39754)},79859:(e,t,n)=>{var r=n(96131),o=n(64894),s=n(85015),a=n(61489),i=n(35880),_=Math.max;function c(e,t,n,c){e=o(e)?e:i(e),n=n&&!c?a(n):0;var v=e.length;return n<0&&(n=_(v+n,0)),s(e)?n<=v&&e.indexOf(t,n)>-1:!!v&&r(e,t,n)>-1}e.exports=c},82188:(e,t,n)=>{"use strict";n.d(t,{Ay:()=>T,wP:()=>h});var r=n(20592),o=n(49807),s=n(26254),a=n(76135),i=n.n(a),_=n(87612),c=n.n(_),v=n(79859),u=n.n(v),f=n(7309),l=n.n(f),b=n(55378),d=n.n(b);n(59581),n(17),n(5086),n(68329),n(87136),n(40173),n(80115),n(30959),n(58476),n(58379),n(7899),n(80475),n(28743);function p(e){return e.split(";").map((function(e){return e.trim()})).filter((function(e){return e})).map((function(e){return e+";"}))}function w(e){return e.replace(/"/g,'\\"')}function y(e){return e.replace(/[^a-zA-Z0-9_]/g,"")}function m(e,t){var n=(0,s.A)((0,s.A)({},e),{},{bid_window:"aw-watcher-window_"+t,bid_afk:"aw-watcher-afk_"+t,bid_browsers:[],return_variable_suffix:y(t)}),r=e.host_params[t];return r&&(g(r)||console.error("Invalid host_params for host ".concat(t,": ").concat(JSON.stringify(r))),Object.keys(r).forEach((function(e){r[e]&&r[e].length>0&&(n[e]=r[e])}))),n}function g(e){return"bid_window"in e}function k(e){return"bid_android"in e}function x(e){return"hosts"in e}function h(e){var t=e.categories?JSON.stringify(e.categories).replace(/\\\\/g,"\\"):"",n=g(e)?e.always_active_pattern:void 0,r=JSON.stringify(e.filter_categories),o=g(e)?e.bid_window:e.bid_android;return['events = flood(query_bucket(find_bucket("'.concat(o,'")));'),k(e)?'events = merge_events_by_keys(events, ["app"]);':"",g(e)?'not_afk = flood(query_bucket(find_bucket("'.concat(e.bid_afk,'")));\n         not_afk = filter_keyvals(not_afk, "status", ["not-afk"]);')+(n?'not_treat_as_afk = filter_keyvals_regex(events, "app", "'.concat(n,'");\n             not_afk = period_union(not_afk, not_treat_as_afk);\n             not_treat_as_afk = filter_keyvals_regex(events, "title", "').concat(n,'");\n             not_afk = period_union(not_afk, not_treat_as_afk);'):""):"",g(e)&&e.bid_browsers?j(e)+(e.include_audible?'audible_events = filter_keyvals(browser_events, "audible", [true]);\n             not_afk = period_union(not_afk, audible_events);':""):"",g(e)&&e.filter_afk?"events = filter_period_intersect(events, not_afk);":"",e.bid_stopwatch?'stopwatch_events = query_bucket("'.concat(e.bid_stopwatch,'");\n         events = union_no_overlap(stopwatch_events, events);'):"stopwatch_events = [];",e.categories?"events = categorize(events, ".concat(t,");"):"",e.filter_categories?'events = filter_keyvals(events, "$category", '.concat(r,");"):"",e.return_variable_suffix?"events_".concat(e.return_variable_suffix," = events;\n         not_afk_").concat(e.return_variable_suffix," = not_afk;"):""].join("\n")}function A(e){var t=d()(e.hosts,(function(t){return h(m(e,t))})),n=t.join("\n");n+="events = [];",n+="not_afk = [];";for(var r=0;r<t.length;r++)n+="\n    events = union_no_overlap(events, events_".concat(y(e.hosts[r]),");\n    not_afk = union_no_overlap(not_afk, not_afk_").concat(y(e.hosts[r]),");\n    ");return n}var E=100;function N(e,t,n){e=w(e);var r={bid_android:e,categories:t,filter_categories:n},o="\n    ".concat(h(r),'\n\n    title_events = sort_by_duration(merge_events_by_keys(events, ["app", "classname"]));\n    app_events   = sort_by_duration(merge_events_by_keys(title_events, ["app"]));\n    cat_events   = sort_by_duration(merge_events_by_keys(events, ["$category"]));\n\n    events = sort_by_timestamp(events);\n    app_events  = limit_events(app_events, ').concat(E,");\n    title_events  = limit_events(title_events, ").concat(E,');\n    duration = sum_durations(events);\n    RETURN  = {"app_events": app_events, "title_events": title_events, "cat_events": cat_events, "duration": duration, "active_events": app_events};\n  ');return p(o)}var R={chrome:["Google Chrome","Google-chrome","chrome.exe","google-chrome-stable","com.google.Chrome","Chromium","Chromium-browser","chromium-browser","Chromium-browser-chromium","chromium.exe","org.chromium.Chromium","Google-chrome-beta","Google-chrome-unstable","com.google.ChromeDev"],firefox:["Firefox","Firefox.exe","firefox","firefox.exe","org.mozilla.firefox","Firefox Developer Edition","firefoxdeveloperedition","Firefox-esr","Firefox Beta","Nightly","firefox-aurora","firefox-trunk-dev","LibreWolf-Portable.exe","LibreWolf","LibreWolf.exe","Librewolf","Librewolf.exe","librewolf","librewolf.exe","librewolf-default","io.gitlab.librewolf-community","Waterfox","Waterfox.exe","waterfox","waterfox.exe","net.waterfox.waterfox"],opera:["opera.exe","Opera","com.opera.Opera"],brave:["Brave-browser","brave-browser","Brave Browser","brave.exe","com.brave.Browser"],edge:["msedge.exe","Microsoft Edge","Microsoft Edge Beta","Microsoft-Edge-Stable","Microsoft-edge","microsoft-edge","microsoft-edge-beta","microsoft-edge-dev","com.microsoft.Edge","com.microsoft.EdgeDev"],arc:["Arc.exe","Arc"],vivaldi:["Vivaldi-stable","Vivaldi-snapshot","vivaldi.exe","Vivaldi","com.vivaldi.Vivaldi"],orion:["Orion"],yandex:["Yandex","ru.yandex.Browser"],zen:["Zen","Zen Browser","Zen-browser","zen","zen browser","zen-browser","zen.exe","app.zen_browser.zen"],floorp:["Floorp","floorp.exe","floorp","one.ablaze.floorp"]};function O(e){var t=d()(Object.keys(R),(function(t){var n=l()(e,(function(e){return u()(e,t)}));return[t,n]}));return c()(t,(function(e){var t=(0,o.A)(e,2),n=t[1];return void 0!==n}))}function j(e){var t="\n    browser_events = [];\n  ";return i()(O(e.bid_browsers),(function(e){var n=(0,o.A)(e,2),r=n[0],s=n[1],a=JSON.stringify(R[r]);t+="events_".concat(r,' = flood(query_bucket("').concat(s,'"));\n       window_').concat(r,' = filter_keyvals(events, "app", ').concat(a,");\n       events_").concat(r," = filter_period_intersect(events_").concat(r,", window_").concat(r,");\n       events_").concat(r," = split_url_events(events_").concat(r,");\n       browser_events = concat(browser_events, events_").concat(r,");\n       browser_events = sort_by_timestamp(browser_events);")})),t}function z(e){return p("\n    ".concat(h((0,s.A)((0,s.A)({},e),{},{bid_window:w(e.bid_window),bid_afk:w(e.bid_afk),bid_browsers:d()(e.bid_browsers,w)})),'\n    title_events = sort_by_duration(merge_events_by_keys(events, ["app", "title"]));\n    app_events   = sort_by_duration(merge_events_by_keys(title_events, ["app"]));\n    cat_events   = sort_by_duration(merge_events_by_keys(events, ["$category"]));\n\n    app_events  = limit_events(app_events, ').concat(E,");\n    title_events  = limit_events(title_events, ").concat(E,");\n    duration = sum_durations(events);\n    ")+'\n    browser_events = split_url_events(browser_events);\n    browser_urls = merge_events_by_keys(browser_events, ["url"]);\n    browser_urls = sort_by_duration(browser_urls);\n    browser_urls = limit_events(browser_urls, '.concat(E,');\n    browser_domains = merge_events_by_keys(browser_events, ["$domain"]);\n    browser_domains = sort_by_duration(browser_domains);\n    browser_domains = limit_events(browser_domains, ').concat(E,');\n    browser_titles = merge_events_by_keys(browser_events, ["title"]);\n    browser_titles = sort_by_duration(browser_titles);\n    browser_titles = limit_events(browser_titles, ').concat(E,');\n    browser_duration = sum_durations(browser_events);\n    stopwatch_events = merge_events_by_keys(stopwatch_events, ["label"]);\n    stopwatch_events = sort_by_duration(stopwatch_events);\n    stopwatch_events = limit_events(stopwatch_events, ').concat(E,');\n\n    RETURN = {\n        "window": {\n            "app_events": app_events,\n            "title_events": title_events,\n            "cat_events": cat_events,\n            "active_events": not_afk,\n            "duration": duration\n        },\n        "browser": {\n            "domains": browser_domains,\n            "urls": browser_urls,\n            "titles": browser_titles,\n            "duration": browser_duration\n        },\n        "stopwatch": {\n            "stopwatch_events": stopwatch_events\n        }\n    };'))}function C(e){return p("\n    ".concat(A(e),'\n    title_events = sort_by_duration(merge_events_by_keys(events, ["app", "title"]));\n    app_events   = sort_by_duration(merge_events_by_keys(title_events, ["app"]));\n    cat_events   = sort_by_duration(merge_events_by_keys(events, ["$category"]));\n\n    app_events  = limit_events(app_events, ').concat(E,");\n    title_events  = limit_events(title_events, ").concat(E,');\n    duration = sum_durations(events);\n\n    RETURN = {\n        "window": {\n            "app_events": app_events,\n            "title_events": title_events,\n            "cat_events": cat_events,\n            "active_events": not_afk,\n            "duration": duration\n        }\n    };'))}function $(e){var t,n=["events = [];"],o=(0,r.A)(e);try{for(o.s();!(t=o.n()).done;){var s=t.value;n.push('events = concat(events, flood(query_bucket("'.concat(w(s),'")));'))}}catch(a){o.e(a)}finally{o.f()}return n=n.concat(['files = sort_by_duration(merge_events_by_keys(events, ["file", "language"]));',"files = limit_events(files, ".concat(E,");"),'languages = sort_by_duration(merge_events_by_keys(events, ["language"]));',"languages = limit_events(languages, ".concat(E,");"),'projects = sort_by_duration(merge_events_by_keys(events, ["project"]));',"projects = limit_events(projects, ".concat(E,");"),"duration = sum_durations(events);",'RETURN = {"files": files, "languages": languages, "projects": projects, "duration": duration};']),n}function B(e){var t,n=["not_afk = [];"],o=(0,r.A)(e);try{for(o.s();!(t=o.n()).done;){var s=t.value;n=n.concat(['not_afk_curr = query_bucket("'.concat(w(s),'");'),'not_afk_curr = filter_keyvals(not_afk_curr, "status", ["not-afk"]);',"not_afk = union_no_overlap(not_afk, not_afk_curr);"])}}catch(a){o.e(a)}finally{o.f()}return n=n.concat(['not_afk = merge_events_by_keys(not_afk, ["status"]);',"RETURN = not_afk;"]),n}function q(e){return e=w(e),['events = query_bucket("'.concat(e,'");'),"RETURN = sum_durations(events);"]}function Q(e){var t="\n  ".concat(x(e)?A(e):h(e),'\n  cat_events   = sort_by_duration(merge_events_by_keys(events, ["$category"]));\n  RETURN = { "cat_events": cat_events };\n');return p(t)}const T={fullDesktopQuery:z,multideviceQuery:C,appQuery:N,activityQuery:B,activityQueryAndroid:q,categoryQuery:Q,editorActivityQuery:$}},85015:(e,t,n)=>{var r=n(72552),o=n(56449),s=n(40346),a="[object String]";function i(e){return"string"==typeof e||!o(e)&&s(e)&&r(e)==a}e.exports=i},99374:(e,t,n)=>{var r=n(54128),o=n(23805),s=n(44394),a=NaN,i=/^[-+]0x[0-9a-f]+$/i,_=/^0b[01]+$/i,c=/^0o[0-7]+$/i,v=parseInt;function u(e){if("number"==typeof e)return e;if(s(e))return a;if(o(e)){var t="function"==typeof e.valueOf?e.valueOf():e;e=o(t)?t+"":t}if("string"!=typeof e)return 0===e?e:+e;e=r(e);var n=_.test(e);return n||c.test(e)?v(e.slice(2),n?2:8):i.test(e)?a:+e}e.exports=u}}]);
//# sourceMappingURL=2188.675b2529.js.map